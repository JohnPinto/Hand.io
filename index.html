<html>
  <head>
    <script type="text/javascript">
		var aux = "0"
      /**
       * Delay for a number of milliseconds
       */
      function sleep(delay) {
        var start = new Date().getTime();
        while (new Date().getTime() < start + delay);
      }

			function changeText(text){
				switch(text){
									case 'u':
										document.getElementById("result").innerHTML = "cima";
										break;
									case 'd':
										document.getElementById("result").innerHTML = "baixo";
										break;
									case 'l':
										document.getElementById("result").innerHTML = "esquerda";
										break;
									case 'r':
										document.getElementById("result").innerHTML = "direita";
										break;
					}
			}

      function readTextFile(file)
			{
				var rawFile = new XMLHttpRequest();
				rawFile.open("GET", file, false);
				rawFile.onreadystatechange = function ()
				{
					if(rawFile.readyState === 4)
					{
						if(rawFile.status === 200 || rawFile.status == 0)
						{
							var allText = rawFile.responseText;
							if (allText != aux){
								aux = allText;
								changeText(allText);
              }
						}
					}
				}
				rawFile.send(null);
			}
    </script>
  </head>
  <body>
		<h1>Hand.io</h1>
		<div id="result"></div>
    <script type="text/javascript">
			while(true){
				readTextFile("result.txt");
				//sleep(5000);
			}
		</script>
			

  </body>
</html>
